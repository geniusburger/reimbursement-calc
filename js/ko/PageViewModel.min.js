function PageViewModel(){var a=this;a.date=ko.observable();a.amount=ko.observable();a.timeAmount=ko.observable(2);a.timeUnit=ko.observable("Years");a.rows=ko.observableArray();a.isSmall=ko.observable(!1);a.timeAmountOptions=ko.observableArray();a.timeUnitOptions=["Days","Months","Years"];a.populateTimeAmounts();a.removePair=function(c){a.rows.remove(c);a.rows.remove(c.matchingRow)}}
PageViewModel.prototype.populateTimeAmounts=function(){var a=this.timeAmount(),c=0;switch(this.timeUnit()){case "Days":c=30;break;case "Months":c=12;break;case "Years":c=20;break;default:console.error("Failed to populate time amounts from unit: "+this.timeUnit());return}this.timeAmountOptions.removeAll();for(var b=1;b<=c;b++)this.timeAmountOptions.push(b);a>c&&(a=c);this.timeAmount(a)};
PageViewModel.prototype.getInput=function(){console.log("getInput",this.date(),this.amount(),this.timeAmount(),this.timeUnit());var a=new Date(this.date()),c=new Currency(this.amount()),b=!0;c.valid||(b=!1);util.isInvalidDate(a)&&(b=!1);b&&(this.date(""),this.amount(""),this.addDate(a,c));return!1};
PageViewModel.prototype.addDate=function(a,c){var b=new Date(a),d=Number(this.timeAmount());switch(this.timeUnit()){case "Days":b.setDate(b.getDate()+d);break;case "Months":b.setMonth(b.getMonth()+d);break;default:console.log("Failed to find time unit, defaulting to years");case "Years":b.setFullYear(b.getFullYear()+d)}d=new RowViewModel(a,c,0,!0,this.isSmall);b=new RowViewModel(b,new Currency(c),0,!1,this.isSmall);d.matchingRow=b;b.matchingRow=d;this.rows.push(d);this.rows.push(b);this.rows.sort(function(a,
b){return a.date().getTime()-b.date().getTime()})};PageViewModel.prototype.loadTestData=function(){[["$7802.05","7/6/2012"],["$6931.49","2/1/2013"],["$7568.49","4/12/2013"],["$3802.00","1/6/2012"],["$3658.51","4/13/2012"],["$775.00","12/21/2012"],["$4350.00","6/28/2013"]].forEach(function(a){this.addDate(new Date(a[1]),new Currency(a[0]))},this)};PageViewModel.prototype.deleteAll=function(){this.rows.removeAll()};
