dateRowUtil={DATE_START_TEXT:"Reimbursed",DATE_STOP_TEXT:"Expired",onMouseOver:function(){this.row.highlight(!0,!0);rc.highlightPoints(this.row)},onMouseOut:function(){this.row.highlight(!1,!0);rc.setChartSelection();rc.highlightPoints()},add:function(a,b,d,g,h){var c=new Date(a);b=Number(b);switch(d){case "Days":c.setDate(c.getDate()+b);break;case "Months":c.setMonth(c.getMonth()+b);break;default:console.log("Failed to find time unit, defaulting to years");case "Years":c.setFullYear(c.getFullYear()+
b)}var e=new DateRow(a,g,!0),f=new DateRow(c,new Currency(g),!1);e.pair(f);f.pair(e);rowUtil.add(e);rowUtil.add(f);window.setTimeout(function(){var a=$([e.tr,f.tr]).find("td>div");a.on("transitionend",dateRowUtil.removeAnimationClass);a.addClass("animateIn in");rowUtil.updateOwed();h()},0)},getDateRows:function(){return util.toArray(document.querySelectorAll("#tableBody tr.date-row.exists"))},getStartRows:function(){return util.toArray(document.querySelectorAll("#tableBody tr.date-row.exists.start"))},
removeAll:function(){for(var a=dateRowUtil.getStartRows(),b=0;b<a.length;b++)a[b].row.remove()},deleteAll:function(){for(var a=dateRowUtil.getStartRows(),b=0;b<a.length;b++)a[b].row.remove();rc.cookies.setDates()},removeAfterAnimation:function(){$(this).parents("tr").remove()},removeAnimationClass:function(){$(this).removeClass("animateIn")}};DateRow.prototype=Object.create(Row.prototype);
function DateRow(a,b,d){Row.apply(this,["exists date-row "+(d?"start":"stop"),new DateCell(a),new CurrencyCell(b),new CurrencyCell("0"),new TextCell(b.start?dateRowUtil.DATE_START_TEXT:dateRowUtil.DATE_STOP_TEXT),new ButtonCell]);this.matchingRow=void 0;this.amountCell.currency.start=d}DateRow.prototype.pair=function(a){this.matchingRow=a};
DateRow.prototype.remove=function(){var a=$([this.tr,this.matchingRow.tr]);this.tr.onmouseover=null;this.tr.onmouseout=null;this.matchingRow.tr.onmouseover=null;this.matchingRow.tr.onmouseout=null;a.removeClass("exists highlight");window.setTimeout(function(){var b=a.find("td>div");a.find("td:first-child>div").on("transitionend",dateRowUtil.removeAfterAnimation);b.addClass("animateOut");b.removeClass("animateIn in");0===dateRowUtil.getDateRows().length&&($("#testButton").removeClass("hidden"),$("#clearButton").addClass("hidden"));
rowUtil.updateOwed();rc.drawChart()},0)};DateRow.prototype.deleteRow=function(){this.remove();rc.cookies.setDates()};DateRow.prototype.highlight=function(a,b){a?$(this.tr).addClass("highlight"):$(this.tr).removeClass("highlight");b&&this.matchingRow.highlight(a,!1)};DateRow.prototype.build=function(){var a=Row.prototype.build.apply(this,[]);a.onmouseover=dateRowUtil.onMouseOver;a.onmouseout=dateRowUtil.onMouseOut;return a};
DateRow.prototype.update=function(a){a.adjust(this.amountCell.currency);this.owedCell.update(a);return a};
